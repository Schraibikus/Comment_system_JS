(()=>{"use strict";var t={790:(t,n,e)=>{e.d(n,{A:()=>a});var s=e(601),r=e.n(s),o=e(314),i=e.n(o)()(r());i.push([t.id,'html,\nbody,\ndiv,\nspan,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\nabbr,\naddress,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\nsamp,\nsmall,\nstrong,\nsub,\nsup,\nvar,\nb,\ni,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  outline: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  /* background:transparent; */\n}\n\nbody {\n  line-height: 1;\n}\n\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\n\nnav ul {\n  list-style: none;\n}\n\nblockquote,\nq {\n  quotes: none;\n}\n\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: "";\n  content: none;\n}\n\na {\n  margin: 0;\n  padding: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  background: transparent;\n}\n\n/* change colours to suit your needs */\nins {\n  background-color: #ff9;\n  color: #000;\n  text-decoration: none;\n}\n\n/* change colours to suit your needs */\nmark {\n  background-color: #ff9;\n  color: #000;\n  font-style: italic;\n  font-weight: bold;\n}\n\ndel {\n  text-decoration: line-through;\n}\n\nabbr[title],\ndfn[title] {\n  border-bottom: 1px dotted;\n  cursor: help;\n}\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\n/* change border colour to suit your needs */\nhr {\n  display: block;\n  height: 1px;\n  border: 0;\n  border-top: 1px solid #cccccc;\n  margin: 1em 0;\n  padding: 0;\n}\n\ninput,\nselect {\n  vertical-align: middle;\n}\n',""]);const a=i},16:(t,n,e)=>{e.d(n,{A:()=>a});var s=e(601),r=e.n(s),o=e(314),i=e.n(o)()(r());i.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap);"]),i.push([t.id,'*,\n*::after,\n*::before {\n  box-sizing: border-box;\n  background-color: white;\n  font-family: "Inter", sans-serif;\n  font-weight: 400;\n  font-size: 18px;\n  color: #a1a1a1;\n  border: none;\n  outline: none;\n}\n/* блоки предполагаемого контента */\n.header {\n  height: 101px;\n  background-color: #d9d9d9;\n  margin-bottom: 50px;\n}\n.sidebar {\n  height: 100%;\n  width: 203px;\n  position: fixed;\n  z-index: 1;\n  top: 150px;\n  left: 0;\n  overflow-x: hidden;\n  background-color: #d9d9d9;\n}\n.main {\n  margin: 0 auto;\n  padding: 0 129px 0 289px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin-bottom: 10px;\n}\n.unknown-content {\n  display: grid;\n  align-items: start;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 50px;\n  padding-bottom: 40px;\n  border-bottom: 3px solid #d9d9d9;\n  margin-bottom: 50px;\n}\n.unknown-content__item {\n  background-color: #d9d9d9;\n}\n.unknown-content__item--small {\n  min-height: 61px;\n}\n.unknown-content__item--big {\n  min-height: 168px;\n  grid-column: 1/-1;\n}\n/* Блоки задания */\n/* Общие блоки */\n.button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  text-wrap: nowrap;\n  padding: 0;\n}\n.comments-header {\n  display: grid;\n  grid-template-columns: min-content min-content min-content;\n  align-items: center;\n  gap: 50px;\n  margin-bottom: 32px;\n  text-wrap: nowrap;\n}\n.comments-header__item-text {\n  cursor: pointer;\n  text-decoration: underline;\n  text-underline-offset: 5px;\n}\n.comments-header__item-text:hover,\n.comments-header__item-text span:hover {\n  color: #000;\n  font-weight: 500;\n  font-size: 20px;\n  text-decoration-thickness: 3px;\n}\n.comments-header__item:hover {\n  color: #000;\n  font-weight: 500;\n  font-size: 20px;\n  text-decoration-thickness: 3px;\n}\n.comments-header__item-text--active {\n  color: #000;\n  font-weight: 500;\n  font-size: 20px;\n  text-decoration-thickness: 3px;\n}\n\n/* Блок для выпадающего списка */\n.comments-header__item-rating {\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n.comments-header__dropdown-nav {\n  display: flex;\n  align-items: center;\n}\n.comments-header__item-favourites {\n  display: flex;\n  align-items: center;\n  gap: 9px;\n}\n.comments-header__btn {\n  cursor: pointer;\n}\n.comments-header__dropdown-container {\n  display: none;\n  position: absolute;\n  left: 0;\n  top: 34px;\n  /* width: 229px; */\n  width: 270px;\n  height: 108px;\n  border-radius: 5px;\n  box-shadow: 1px 1px 8px 2px rgba(0, 0, 0, 0.1);\n}\n.dropdown__link {\n  display: block;\n  list-style: none;\n  text-decoration: none;\n  font-size: 16px;\n  padding: 5px;\n  padding-left: 25px;\n  position: relative;\n  cursor: pointer;\n}\n.dropdown__link:hover {\n  color: #000;\n  background-color: #eee;\n}\n.dropdown__link img {\n  position: absolute;\n  left: 5px;\n}\n.comments-header--active {\n  transform: rotate(180deg);\n}\n.dropdown-check {\n  display: none;\n}\n.dropdown-check--checked {\n  display: block;\n}\n\n.dropdown__link-content {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 5px;\n}\n.dropdown__link-content:hover {\n  color: #000;\n  background-color: #eee;\n}\n.dropdown__link-content img {\n  position: relative;\n}\n.arrow-up {\n  transform: rotate(180deg);\n  cursor: pointer;\n}\n.arrow-down {\n  cursor: pointer;\n}\n\n/* Блок первого коммента */\n.comments__user {\n  display: grid;\n  align-items: start;\n  grid-template-columns: min-content 1fr 1fr 1fr;\n  grid-template-rows: 37px 1fr;\n  column-gap: 30px;\n  margin-bottom: 40px;\n}\n.comments__user-title,\n.comments__archive-title,\n.comments__answer-title,\n.comments__answer-title-nav {\n  font-weight: 500;\n  color: #122ac0;\n  text-wrap: nowrap;\n}\n.comments__user img {\n  border-radius: 50%;\n  grid-row: 1/3;\n}\n.comment__input-form {\n  padding: 20px 30px;\n  box-sizing: border-box;\n  height: 61px;\n  min-height: 61px;\n  overflow: hidden;\n  border: 1px solid #d9d9d9;\n  border-radius: 5px;\n  box-shadow: 1px 1px 8px 2px rgba(0, 0, 0, 0.1);\n  grid-column: 2/4;\n  color: #000;\n}\n.comment__output-form {\n  grid-column: 3/4;\n  grid-row: 1/2;\n  text-align: end;\n  font-size: 14px;\n  font-style: italic;\n  text-wrap: nowrap;\n}\n.comments__output-error {\n  display: none;\n  color: #ff0000;\n  text-align: center;\n  font-size: 14px;\n  grid-column: 4/5;\n  grid-row: 1/2;\n}\n.comment__input-btn {\n  height: 61px;\n  background-color: #d9d9d9;\n  color: #585858;\n  border-radius: 5px;\n  grid-column: 4/5;\n}\n.comment__input-btn-answer {\n  margin-top: 10px;\n}\n.comment__input-btn-answer:hover {\n  background-color: #ffbb82;\n  color: #000;\n}\n\n.comment__input-btn--ready {\n  background-color: #abd873;\n  color: #000;\n}\n\n/* Блок коммента в архиве*/\n.comments__archive,\n.comments__sorted {\n  display: grid;\n  align-items: start;\n  grid-template-columns: min-content min-content min-content 1fr;\n  grid-template-rows: 37px 1fr 37px;\n  column-gap: 30px;\n  margin-bottom: 40px;\n}\n.comments__archive img,\n.comments__sorted img {\n  border-radius: 50%;\n  grid-row: 1/2;\n}\n.comments__archive-date,\n.comments__answer-date {\n  font-size: 14px;\n  padding-top: 5px;\n  text-wrap: nowrap;\n}\n.comments__archive-text,\n.comments__answer-text {\n  color: #000;\n  grid-row: 2/3;\n  grid-column: 2/5;\n  line-height: 21.78px;\n  margin-bottom: 15px;\n}\n.comments__archive-answer-btn {\n  grid-row: 3/4;\n  grid-column: 2/3;\n  justify-content: flex-start;\n}\n.comments__archive-answer-btn:hover {\n  color: #000;\n}\n\n.comments__archive-favourites-btn {\n  grid-row: 3/4;\n  grid-column: 3/4;\n}\n.comments__rating {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  grid-row: 3/4;\n  grid-column: 4/5;\n}\n.comments__btn-minus,\n.comments__btn-plus {\n  padding: 0;\n}\n.comments__count {\n  color: #8ac540;\n}\n\n/* Блок ответа на коммент */\n.comments__answer {\n  margin-left: 91px;\n  display: grid;\n  align-items: start;\n  grid-template-columns: min-content min-content min-content 1fr;\n  grid-template-rows: 37px 1fr 37px;\n  column-gap: 30px;\n  margin-bottom: 40px;\n}\n.comments__answer img {\n  border-radius: 50%;\n  grid-row: 1/2;\n}\n.comments__answer-text-reply {\n  display: flex;\n  text-wrap: nowrap;\n  grid-column: 3/4;\n  grid-row: 1/2;\n}\n.comments__answer-favourites-btn {\n  grid-column: 2/3;\n  grid-row: 3/4;\n}\n.comments__rating-answer {\n  grid-column: 3/4;\n}\n\n/* Медиа-запросы для адаптивной вёрстки */\n@media (max-width: 1100px) {\n  .main {\n    padding: 0 50px 0 289px;\n  }\n}\n@media (max-width: 1024px) {\n  .main {\n    padding: 0 50px;\n  }\n  .sidebar {\n    display: none;\n  }\n}\n@media (max-width: 768px) {\n  .main {\n    padding: 0 20px;\n  }\n}\n@media (max-width: 700px) {\n  .main {\n    padding: 0 10px;\n  }\n  .comments-header {\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 1fr 1fr;\n    gap: 20px;\n  }\n  .comments-header__item-rating {\n    grid-row: 2/3;\n    grid-column: 1/2;\n  }\n  .comments-header__item-favourites {\n    grid-row: 2/3;\n    grid-column: 2/3;\n  }\n  .comments__user {\n    grid-template-columns: min-content 1fr 1fr;\n    grid-template-rows: 37px 1fr 65px 20px 20px;\n    row-gap: 15px;\n  }\n  .comments__output-error {\n    font-size: 12px;\n    grid-column: 2/4;\n    grid-row: 4/5;\n  }\n  .comment__input-btn {\n    grid-column: 2/4;\n    grid-row: 3/4;\n  }\n  .comment__input-btn-answer {\n    margin-top: 0;\n    grid-column: 2/4;\n    grid-row: 4/5;\n  }\n  .comments__answer {\n    margin-left: 51px;\n  }\n}\n@media (max-width: 640px) {\n  .header {\n    height: 68px;\n    margin-bottom: 30px;\n  }\n  .unknown-content {\n    grid-template-columns: 1fr;\n    gap: 20px;\n    padding-bottom: 30px;\n    margin-bottom: 13px;\n  }\n  .unknown-content__item:nth-child(3),\n  .unknown-content__item:nth-child(4),\n  .unknown-content__item:nth-child(5),\n  .unknown-content__item:nth-child(6),\n  .unknown-content__item:nth-child(7),\n  .unknown-content__item:nth-child(8) {\n    display: none;\n  }\n  .unknown-content__item--big {\n    min-height: 132px;\n  }\n  .comments__answer {\n    margin-left: 0px;\n  }\n}\n@media (max-width: 600px) {\n  .comments__answer {\n    align-items: start;\n    grid-template-columns: min-content min-content min-content;\n    grid-template-rows: 37px 37px 1fr 70px;\n    column-gap: 30px;\n    margin-bottom: 40px;\n  }\n  .comments__answer-text-reply {\n    grid-column: 2/3;\n    grid-row: 2/3;\n  }\n  .comments__answer-text {\n    grid-row: 3/4;\n    grid-column: 2/5;\n  }\n  .comments__answer-favourites-btn {\n    grid-column: 2/3;\n    grid-row: 4/5;\n    justify-self: start;\n  }\n  .comments__rating-answer {\n    grid-column: 3/4;\n    grid-row: 4/5;\n  }\n}\n@media (max-width: 550px) {\n  .comments__rating {\n    flex-direction: column;\n    gap: 0px;\n  }\n  .comments__archive,\n  .comments__sorted {\n    grid-template-rows: 37px 1fr 70px;\n  }\n}\n@media (max-width: 500px) {\n  *,\n  *::after,\n  *::before {\n    font-size: 16px;\n  }\n  .comment__output-form {\n    font-size: 10px;\n  }\n  .comments__user-title,\n  .comments__archive-title,\n  .comments__answer-title {\n    font-size: 18px;\n  }\n  .comments__archive-date,\n  .comments__answer-date {\n    font-size: 12px;\n  }\n  .comment__input-btn {\n    height: 50px;\n  }\n  .comment__input-form {\n    padding: 15px 30px;\n    height: 50px;\n    min-height: 50px;\n  }\n  .comment__input-form::placeholder {\n    font-size: 14px;\n  }\n  .comments__answer-text-reply {\n    font-size: 18px;\n  }\n  .comments__answer-favourites-btn {\n    font-size: 18px;\n  }\n}\n@media (max-width: 480px) {\n  .comments-header {\n    grid-template-columns: 150px 150px;\n    column-gap: 10px;\n  }\n  .comments-header__item {\n    font-size: 14px;\n  }\n  .comments-header__btn img {\n    width: 15px;\n    height: 15px;\n  }\n  .comments__user {\n    grid-template-rows: 80px 1fr 50px 20px 20px;\n    column-gap: 20px;\n    margin-bottom: 20px;\n  }\n  .comments__output-error {\n    grid-column: 1/4;\n  }\n  .comments__user-title,\n  .comments__archive-title,\n  .comments__answer-title {\n    align-self: center;\n    grid-row: 1/2;\n    grid-column: 2/4;\n    text-wrap: wrap;\n  }\n  .comments__archive-date,\n  .comments__answer-date {\n    align-self: center;\n    justify-self: flex-end;\n    text-wrap: wrap;\n    grid-column: 3/5;\n    grid-row: 1/2;\n  }\n  .comments__archive,\n  .comments__sorted {\n    margin-bottom: 20px;\n  }\n  .comments__archive-text {\n    grid-row: 2/3;\n    grid-column: 1/5;\n  }\n  .comments__answer {\n    margin-bottom: 20px;\n  }\n  .comments__answer-text {\n    grid-row: 3/5;\n    grid-column: 1/5;\n  }\n  .comment__output-form {\n    align-self: flex-end;\n    grid-column: 2/4;\n  }\n  .comments__user img,\n  .comments__archive img,\n  .comments__answer img {\n    grid-row: 1/2;\n  }\n  .comment__input-form {\n    grid-column: 1/-1;\n  }\n  .comment__input-btn {\n    grid-column: 1/-1;\n  }\n  .comments__archive,\n  .comments__sorted {\n    grid-template-rows: 80px 1fr 70px;\n    column-gap: 20px;\n  }\n  .comments__answer {\n    grid-template-rows: min-content 37px 37px 1fr 70px;\n    column-gap: 20px;\n  }\n  .comments__answer-text-reply {\n    grid-column: 2/4;\n    grid-row: 2/3;\n  }\n\n  .comments__archive-answer-btn {\n    grid-column: 1/3;\n  }\n  .comments__archive-favourites-btn {\n    grid-column: 3/4;\n  }\n  .comments__answer-favourites-btn {\n    grid-row: 5/6;\n    grid-column: 1/3;\n  }\n  .comments__rating {\n    grid-column: 4/5;\n  }\n  .comments__rating-answer {\n    grid-column: 3/4;\n    grid-row: 5/6;\n  }\n}\n',""]);const a=i},314:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",s=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),s&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),s&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,s,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(s)for(var a=0;a<this.length;a++){var m=this[a][0];null!=m&&(i[m]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);s&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),n.push(l))}},n}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var n=[];function e(t){for(var e=-1,s=0;s<n.length;s++)if(n[s].identifier===t){e=s;break}return e}function s(t,s){for(var o={},i=[],a=0;a<t.length;a++){var m=t[a],c=s.base?m[0]+s.base:m[0],l=o[c]||0,d="".concat(c," ").concat(l);o[c]=l+1;var h=e(d),u={css:m[1],media:m[2],sourceMap:m[3],supports:m[4],layer:m[5]};if(-1!==h)n[h].references++,n[h].updater(u);else{var p=r(u,s);s.byIndex=a,n.splice(a,0,{identifier:d,updater:p,references:1})}i.push(d)}return i}function r(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,r){var o=s(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var a=e(o[i]);n[a].references--}for(var m=s(t,r),c=0;c<o.length;c++){var l=e(o[c]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}o=m}}},659:t=>{var n={};t.exports=function(t,e){var s=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}},540:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},56:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var s="";e.supports&&(s+="@supports (".concat(e.supports,") {")),e.media&&(s+="@media ".concat(e.media," {"));var r=void 0!==e.layer;r&&(s+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),s+=e.css,r&&(s+="}"),e.media&&(s+="}"),e.supports&&(s+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(s,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},113:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}}},n={};function e(s){var r=n[s];if(void 0!==r)return r.exports;var o=n[s]={id:s,exports:{}};return t[s](o,o.exports,e),o.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.nc=void 0,(()=>{class t{constructor({main:t}){this.main=t}commentsRatingArchive(){this.ratingBlocks=document.querySelectorAll(".comments__rating-archive");for(let t of this.ratingBlocks)t.children[0].addEventListener("click",(t=>{let n=0,e=t.currentTarget,s=e.closest(".comments__archive").dataset.index;e&&n--,e.parentElement.parentElement.dataset.rating=n,this.rememberRatingArchive(t),e.parentElement.children[1].textContent=this.displayArchive(s),e.parentElement.children[1].textContent<0?e.parentElement.children[1].style.color="red":e.parentElement.children[1].style.color="#8ac540"}),{once:!0}),t.children[2].addEventListener("click",(t=>{let n=0,e=t.currentTarget,s=e.closest(".comments__archive").dataset.index;e&&n++,e.parentElement.parentElement.dataset.rating=n,this.rememberRatingArchive(t),e.parentElement.children[1].textContent=this.displayArchive(s),e.parentElement.children[1].textContent<0?e.parentElement.children[1].style.color="red":e.parentElement.children[1].style.color="#8ac540"}),{once:!0})}commentsRatingAnswer(){this.ratingBlocksAnswer=document.querySelectorAll(".comments__rating-answer");for(let t of this.ratingBlocksAnswer)t.children[0].addEventListener("click",(t=>{let n=0,e=t.currentTarget,s=e.closest(".comments__answer").dataset.index;e&&n--,e.parentElement.parentElement.dataset.rating=n,this.rememberRatingAnswer(t),e.parentElement.children[1].textContent=this.displayAnswer(s),e.parentElement.children[1].textContent<0?e.parentElement.children[1].style.color="red":e.parentElement.children[1].style.color="#8ac540"}),{once:!0}),t.children[2].addEventListener("click",(t=>{let n=0,e=t.currentTarget,s=e.closest(".comments__answer").dataset.index;e&&n++,e.parentElement.parentElement.dataset.rating=n,this.rememberRatingAnswer(t),e.parentElement.children[1].textContent=this.displayAnswer(s),e.parentElement.children[1].textContent<0?e.parentElement.children[1].style.color="red":e.parentElement.children[1].style.color="#8ac540"}),{once:!0})}rememberRatingArchive(t){let n=t.currentTarget;const e={value:Number(n.parentElement.parentElement.dataset.rating),whose:Number(n.parentElement.parentElement.dataset.index)};this.main.ratings.push(e),localStorage.setItem("ratings",JSON.stringify(this.main.ratings))}rememberRatingAnswer(t){let n=t.currentTarget;const e={value:Number(n.parentElement.parentElement.dataset.rating),whose:Number(n.parentElement.parentElement.dataset.index)};this.main.answerRatings.push(e),localStorage.setItem("answerRatings",JSON.stringify(this.main.answerRatings))}displayRatingArchive(t){let n=this.main.ratings,e=Object.fromEntries(n.map((t=>[t.whose,0])));return n.forEach((t=>{e[t.whose]+=t.value})),void 0===e[t]?0:e[t]}displayRatingAnswer(t){let n=this.main.answerRatings,e=Object.fromEntries(n.map((t=>[t.whose,0])));return n.forEach((t=>{e[t.whose]+=t.value})),void 0===e[t]?0:e[t]}displayArchive(t){let n=this.main.ratings,e=Object.fromEntries(n.map((t=>[t.whose,0])));return n.forEach((t=>{e[t.whose]+=t.value})),e[t]}displayAnswer(t){let n=this.main.answerRatings,e=Object.fromEntries(n.map((t=>[t.whose,0])));return n.forEach((t=>{e[t.whose]+=t.value})),e[t]}}class n{constructor({main:t}){this.main=t,this.commentsHeader=document.querySelector(".comments-header"),this.userComment=document.querySelector(".comments__user")}setUser(){this.userComment=document.createElement("form"),this.userComment.classList.add("comments__user"),this.userComment.innerHTML=`  \n    <img class="authorImg" src="${this.main.users.at(-1).src}" alt="user" width="61" height="61"/>\n    <p class="comments__answer-title-nav">${this.main.users.at(-1).first} ${this.main.users.at(-1).last}</p>\n        <textarea\n          class="comment__input-form"\n          name="comment"          \n          rows="1"\n          placeholder="Введите текст сообщения..."\n        ></textarea>\n        <output class="comment__output-form">Макс. 1000 символов</output>\n        <p class="comments__output-error">Слишком длинное сообщение</p>\n        <button class="comment__input-btn button" type="submit">\n          Отправить\n        </button>\n      `,this.commentsHeader.after(this.userComment)}setUserName(t){this.userImg=document.createElement("img"),this.userImg.src=`${this.main.users[t].src}`,this.userImg.alt="user",this.userImg.width=61,this.userImg.height=61,this.userName=document.createElement("p"),this.userName.classList.add("comments__archive-title"),this.userName.textContent=`${this.main.users[t].first} ${this.main.users[t].last}`,this.userComment.prepend(this.userImg),this.userImg.remove(),this.userComment.prepend(this.userName),this.userName.remove()}}class s{constructor({main:t,rating:n}){this.main=t,this.rating=n,this.userComment=document.querySelector(".comments__user")}setNextUser(t){this.userNextComment=document.createElement("div"),this.userNextComment.classList.add("comments__archive"),this.userNextComment.setAttribute("data-index",t),this.userNextComment.setAttribute("isFavorite",!1),this.userNextComment.setAttribute("data-rating",`${this.rating.displayRatingArchive(this.userNextComment.dataset.index)}`),this.userNextComment.innerHTML=`\n    <img src="${this.main.users[t].src}" alt="user" width="61" height="61"/>\n    <p class="comments__answer-title">${this.main.users[t].first} ${this.main.users[t].last}</p>\n      <p class="comments__archive-date">${this.main.comments[t].date}</p>\n      <p class="comments__archive-text">${this.main.comments[t].text}   \n      </p>\n      <button class="comments__archive-answer-btn button">\n        <img src="./src/assets/reply.svg" alt="reply" />&#160;Ответить\n      </button>\n      <button class="comments__archive-favourites-btn button">\n        <img\n          src="./src/assets/heart_empty.svg"\n          alt="heart_empty"\n        />\n        <p>&#160;В избранное</p>\n      </button>\n      <div class="comments__rating comments__rating-archive">\n        <button class="comments__btn-minus button">\n          <img src="./src/assets/btn_minus.svg" alt="btn-minus" />\n        </button>\n        <span class="comments__count">${this.rating.displayRatingArchive(this.userNextComment.dataset.index)}</span>\n        <button class="comments__btn-plus button">\n          <img src="./src/assets/btn_plus.svg" alt="btn-plus" />\n        </button>\n      </div>\n    `,this.userComment.after(this.userNextComment),this.userNextComment.children[6].children[1].textContent&&this.userNextComment.children[6].children[1].textContent<0&&(this.userNextComment.children[6].children[1].style.color="red")}}class r{constructor({main:t,rating:n}){this.main=t,this.rating=n}setUser(t){this.userNextAnswer=document.createElement("div"),this.userNextAnswer.classList.add("comments__answer"),this.userNextAnswer.setAttribute("data-index",t),this.userNextAnswer.setAttribute("isFavorite",!1),this.userNextAnswer.setAttribute("data-rating",`${this.rating.displayRatingAnswer(this.userNextAnswer.dataset.index)}`),this.userNextAnswer.innerHTML=`\n        <img src="${this.main.answers[t].src}" alt="user" width="61" height="61"/>\n        <p class="comments__answer-title">${this.main.answers[t].name}</p>\n        <p class="comments__answer-date">${this.main.answers[t].date}</p>\n        <p class="comments__answer-text">${this.main.answers[t].text}</p>\n        <p class="comments__answer-text-reply">\n          <img src="./src/assets/reply.svg" alt="reply"/>\n            <span class="comments__answer-reply">${this.main.answers[t].toWhom}\n            </span>\n        </p>\n        <button class="comments__answer-favourites-btn button">\n          <img src="./src/assets/heart_empty.svg" alt="heart_empty"/>\n          <p>&#160;В избранное</p>\n        </button>\n        <div class="comments__rating comments__rating-answer">\n          <button class="comments__btn-minus button">\n            <img src="./src/assets/btn_minus.svg" alt="btn-minus" />\n          </button>\n            <span class="comments__count">${this.rating.displayRatingAnswer(this.userNextAnswer.dataset.index)}</span>\n          <button class="comments__btn-plus button">\n            <img src="./src/assets/btn_plus.svg" alt="btn-plus" />\n          </button>\n        </div>\n      `,this.targets=document.querySelectorAll(".comments__archive"),this.targets.forEach((n=>{n.dataset.index===this.main.answers[t].authorIdx&&n.after(this.userNextAnswer),this.userNextAnswer.children[6].children[1].textContent&&this.userNextAnswer.children[6].children[1].textContent<0&&(this.userNextAnswer.children[6].children[1].style.color="red")}))}commentAnswer(){this.buttonAnswers=document.querySelectorAll(".comments__archive-answer-btn"),this.buttonAnswers.forEach((t=>{t.addEventListener("click",(()=>{this.authorAnswerName=document.querySelector(".comments__answer-title-nav"),this.authorAnswerImg=document.querySelector(".authorImg"),this.buttonAnswer=t.parentElement,this.toWhomAnswerName=this.buttonAnswer.children[1].textContent,this.authorIdx=this.buttonAnswer.dataset.index,this.userNavAnswer=document.createElement("form"),this.userNavAnswer.classList.add("comments__user"),this.userNavAnswer.setAttribute("id","answerForm"),this.userNavAnswer.innerHTML=`\n            <img src="${this.main.users.at(-1).src}" alt="user" width="61" height="61"/>\n            <p class="comments__archive-title">${this.main.users.at(-1).first} ${this.main.users.at(-1).last}</p>\n            <textarea\n              class="comment__input-form"\n              name="comment"\n              id="comment"\n              rows="1"\n              placeholder="Введите текст сообщения..."\n            ></textarea>\n            <output class="comment__output-form">Макс. 1000 символов</output>\n            <p class="comments__output-error">Слишком длинное сообщение</p>\n            <button class="comment__input-btn button" type="submit">\n              Отправить\n            </button>\n            <button class="comment__input-btn comment__input-btn-answer button">\n              Отменить\n            </button>\n          `,this.buttonAnswer.after(this.userNavAnswer),this.commentsFormsElements=this.userNavAnswer.elements,this.textarea=this.commentsFormsElements[0],this.output=this.commentsFormsElements[1],this.buttonSubmit=this.commentsFormsElements[2],this.lengthCommentError=document.querySelector(".comments__output-error"),this.onFocusTextarea(),this.commentAnswerInput(),this.buttonAnswerClose(),this.userNavAnswer.addEventListener("submit",(t=>{0===this.textarea.value.length||this.textarea.value.length>1e3?(t.preventDefault(),this.buttonAnswerClose(),alert("ошибка")):(this.answerOdj={text:this.textarea.value,date:this.main.formatDate(),name:this.authorAnswerName.textContent,src:this.authorAnswerImg.src,toWhom:this.toWhomAnswerName,authorIdx:this.buttonAnswer.dataset.index},this.main.answers.push(this.answerOdj),localStorage.setItem("answers",JSON.stringify(this.main.answers)),this.setNextAnswers(),this.buttonAnswerClose())}))}),{once:!0})}))}commentAnswerInput(){this.textarea.addEventListener("input",(()=>{this.output.textContent=0+this.textarea.value.length+"/1000",this.textarea.value.length,this.buttonSubmitReady(),this.textarea.value.length>1e3?(this.output.style.color="red",this.lengthCommentError.style.display="block",this.buttonSubmitReady()):(this.output.style.color="black",this.lengthCommentError.style.display="none"),this.textarea.style.height=0,this.textarea.style.height=this.textarea.scrollHeight+"px"}))}buttonAnswerClose(){this.btnAnswerClose=document.querySelector(".comment__input-btn-answer"),this.btnAnswerClose.addEventListener("click",(t=>{t.preventDefault(),this.userNavAnswer.remove()}))}onFocusTextarea(){for(let t of this.commentsFormsElements)"checkbox"!=t.type&&"submit"!=t.type&&(t.addEventListener("focus",(function(){t.style.backgroundColor="lightyellow"})),t.addEventListener("blur",(function(){t.style.backgroundColor="white"})))}buttonSubmitReady(){this.textarea.value.length>0&&this.textarea.value.length<1e3?this.buttonSubmit.classList.add("comment__input-btn--ready"):this.buttonSubmit.classList.remove("comment__input-btn--ready")}setNextAnswers(){this.main.answers.forEach(((t,n)=>{null!=t&&this.setUser(n)}))}}class o{constructor({main:t}){this.main=t,this.links=document.querySelectorAll(".dropdown__link")}dropdownMenu(){this.onComments=document.querySelectorAll(".comments-header__item-text"),this.dropdownImg=document.querySelector(".dropdown-arrow"),this.dropdownNav=document.querySelector(".comments-header__dropdown-nav"),this.onComments[1].addEventListener("click",(()=>{this.onComments[1].classList.toggle("comments-header__item-text--active"),this.dropdownContent=this.dropdownNav.nextElementSibling,"block"===this.dropdownContent.style.display?this.dropdownContent.style.display="none":this.dropdownContent.style.display="block",this.dropdownImg.classList.contains("comments-header--active")?this.dropdownImg.classList.remove("comments-header--active"):this.dropdownImg.classList.add("comments-header--active")}))}increaseCommentCount(){this.commentCount=document.querySelector(".comments-count"),this.commentCount.innerHTML=`\n    &#40;${this.main.comments.length+this.main.answers.length}&#41;\n    `}sortCommentsByDate(){this.noSortedByNumserOfDate=document.querySelectorAll('[class*="-date"]'),this.byDateButtonsList=document.querySelector(".byDate"),this.buttonOnAllComents=document.querySelector(".comments-header__item-text");let t=this.byDateButtonsList.children[0],n=this.byDateButtonsList.children[1];t.addEventListener("click",(()=>{this.displaySortByDate(),this.displayNoneNoSortedItems()})),n.addEventListener("click",(()=>{this.displaySortByDateReverse(),this.displayNoneNoSortedItems()})),this.buttonOnAllComents.addEventListener("click",(()=>{this.displayOnNoSortedItems()}))}sortCommentsByNumserOfRating(){this.noSortedByNumserOfRating=document.querySelectorAll(".comments__count");for(let t of this.noSortedByNumserOfRating){const n={src:t.parentElement.parentElement.children[0].src,name:t.parentElement.parentElement.children[1].textContent,date:t.parentElement.parentElement.children[2].textContent,text:t.parentElement.parentElement.children[3].textContent,nameReply:t.parentElement.parentElement.children[4].textContent,rating:Number(t.textContent),whoseAr:t.parentElement.parentElement.dataset.index};this.main.itemsSort.push(n),this.main.itemsSort.length>this.main.comments.length+this.main.answers.length&&this.main.itemsSort.shift(),localStorage.setItem("itemsSort",JSON.stringify(this.main.itemsSort))}this.byRatingButtonsList=document.querySelector(".byNumserOfRating"),this.buttonOnAllComents=document.querySelector(".comments-header__item-text");let t=this.byRatingButtonsList.children[0],n=this.byRatingButtonsList.children[1];t.addEventListener("click",(()=>{this.displaySortByRating(),this.displayNoneNoSortedItems()})),n.addEventListener("click",(()=>{this.displaySortByRatingReverse(),this.displayNoneNoSortedItems()})),this.buttonOnAllComents.addEventListener("click",(()=>{this.displayOnNoSortedItems()}))}displaySortByRating(){this.main.itemsSort.sort(((t,n)=>t.rating>n.rating?1:-1)),this.setUsersSort()}displaySortByDate(){this.main.itemsSort.sort(((t,n)=>t.date>n.date?1:-1)),this.setUsersSort()}displaySortByRatingReverse(){this.main.itemsSort.sort(((t,n)=>t.rating<n.rating?1:-1)),this.setUsersSort()}displaySortByDateReverse(){this.main.itemsSort.sort(((t,n)=>t.date<n.date?1:-1)),this.setUsersSort()}displayNoneNoSortedItems(){this.noSortedItems=document.querySelector(".comments__container"),this.noSortedItems.style.display="none",this.buttonOnAllComents.style.backgroundColor="red"}displayOnNoSortedItems(){this.noSortedItems.style.display="block",this.buttonOnAllComents.style.backgroundColor="transparent",window.location.reload(),this.setUsersSortClearDisplay()}setUsersSort(){this.main.itemsSort.forEach(((t,n)=>{null!=t&&this.setNextUserSort(n)}))}setNextUserSort(t){this.userSortNextContainer=document.querySelector(".comments__content"),this.userSortNext=document.createElement("div"),this.userSortNext.classList.add("comments__sorted"),this.userSortNext.innerHTML=`\n    <img src="${this.main.itemsSort[t].src}" alt="user" width="61" height="61"/>\n    <p class="comments__answer-title">${this.main.itemsSort[t].name}</p>\n      <p class="comments__archive-date">${this.main.itemsSort[t].date}</p>\n      <p class="comments__archive-text">${this.main.itemsSort[t].text}   \n      </p>\n      <div class="comments__rating comments__rating-archive">\n          <img src="./src/assets/btn_minus.svg" alt="btn-minus" />\n        <span class="comments__count">${this.main.itemsSort[t].rating}</span>\n        <img src="./src/assets/btn_plus.svg" alt="btn-plus" />\n      </div>\n    `,this.userSortNextContainer.after(this.userSortNext)}setUsersSortClearDisplay(){this.userSortNextItems=document.querySelectorAll(".comments__sorted"),this.userSortNextItems.innerHTML=""}sortCommentsByRelevance(){this.links[2].addEventListener("click",(()=>{alert("идет сортировка......."),setTimeout((()=>{alert("Ой, данная фича ещё в разработке)))"),window.location.reload()}),1e3)}))}sortCommentsByNumberOfResponses(){this.links[3].addEventListener("click",(()=>{alert("идет сортировка......."),setTimeout((()=>{alert("Ой, эта фича тоже ещё в разработке)))"),window.location.reload()}),1e3)}))}}class i{constructor(){}addToFavoritesArchives(){this.buttonsArchiveFavoritesArchives=document.querySelectorAll(".comments__archive-favourites-btn"),this.buttonsArchiveFavoritesArchives.forEach((t=>{t.addEventListener("click",(t=>{t.currentTarget.classList.toggle("comments__archive-favourites-btn--active"),t.currentTarget.classList.contains("comments__archive-favourites-btn--active")?this.addToFavoritesContentBefore(t):this.addToFavoritesContentAfter(t)}))}))}addToFavoritesAnswers(){this.buttonsArchiveFavoritesAnswers=document.querySelectorAll(".comments__answer-favourites-btn"),this.buttonsArchiveFavoritesAnswers.forEach((t=>{t.addEventListener("click",(t=>{t.currentTarget.classList.toggle("comments__answer-favourites-btn--active"),t.currentTarget.classList.contains("comments__answer-favourites-btn--active")?this.addToFavoritesContentBefore(t):this.addToFavoritesContentAfter(t)}))}))}addToFavoritesContentBefore(t){t.currentTarget.children[0].src="./src/assets/heart_full.svg",t.currentTarget.children[0].alt="heart_full",t.currentTarget.children[0].width="24",t.currentTarget.children[0].height="24",t.currentTarget.children[1].textContent=" В избранном",t.currentTarget.children[1].style.color="#000",t.currentTarget.parentElement.setAttribute("isFavorite",!0)}addToFavoritesContentAfter(t){t.currentTarget.children[0].src="./src/assets/heart_empty.svg",t.currentTarget.children[0].alt="heart_empty",t.currentTarget.children[0].width="24",t.currentTarget.children[0].height="24",t.currentTarget.children[1].textContent=" В избранное",t.currentTarget.children[1].style.color="#a1a1a1",t.currentTarget.parentElement.setAttribute("isFavorite",!1)}}class a{constructor({main:t}){this.main=t,this.forms=document.forms,this.commentsForms=this.forms[0],this.commentsFormsElements=this.commentsForms.elements,this.textarea=this.commentsFormsElements[0],this.output=this.commentsFormsElements[1],this.buttonSubmit=this.commentsFormsElements[2],this.lengthCommentError=document.querySelector(".comments__output-error"),this.textarea.addEventListener("input",(()=>{this.output.textContent=0+this.textarea.value.length+"/1000",this.textarea.value.length,this.buttonSubmitReady(),this.textarea.value.length>1e3?(this.output.style.color="red",this.lengthCommentError.style.display="block",this.buttonSubmitReady()):(this.output.style.color="black",this.lengthCommentError.style.display="none"),this.textarea.style.height=0,this.textarea.style.height=this.textarea.scrollHeight+"px"})),this.commentsForms.addEventListener("submit",(t=>{0===this.textarea.value.length||this.textarea.value.length>1e3?t.preventDefault():(this.commentObj={text:this.textarea.value,date:this.main.formatDate()},this.main.comments.push(this.commentObj),localStorage.setItem("comments",JSON.stringify(this.main.comments)))}))}buttonSubmitReady(){this.textarea.value.length>0&&this.textarea.value.length<1e3?this.buttonSubmit.classList.add("comment__input-btn--ready"):this.buttonSubmit.classList.remove("comment__input-btn--ready")}onFocusTextarea(){for(let t of this.commentsFormsElements)"checkbox"!=t.type&&"submit"!=t.type&&(t.addEventListener("focus",(function(){t.style.backgroundColor="lightyellow"})),t.addEventListener("blur",(function(){t.style.backgroundColor="white"})))}}var m=e(72),c=e.n(m),l=e(825),d=e.n(l),h=e(659),u=e.n(h),p=e(56),g=e.n(p),_=e(540),x=e.n(_),w=e(113),b=e.n(w),f=e(790),v={};v.styleTagTransform=b(),v.setAttributes=g(),v.insert=u().bind(null,"head"),v.domAPI=d(),v.insertStyleElement=x(),c()(f.A,v),f.A&&f.A.locals&&f.A.locals;var y=e(16),A={};A.styleTagTransform=b(),A.setAttributes=g(),A.insert=u().bind(null,"head"),A.domAPI=d(),A.insertStyleElement=x(),c()(y.A,A),y.A&&y.A.locals&&y.A.locals,(new class{API="https://randomuser.me/api/";users=JSON.parse(localStorage.getItem("users"))||[];comments=JSON.parse(localStorage.getItem("comments"))||[];answers=JSON.parse(localStorage.getItem("answers"))||[];ratings=JSON.parse(localStorage.getItem("ratings"))||[];answerRatings=JSON.parse(localStorage.getItem("answerRatings"))||[];itemsSort=JSON.parse(localStorage.getItem("itemsSort"))||[];usersIdx=0;maxUsers=20;userTitles=["comments__user-title","comments__archive-title","comments__answer-title"];async setUserParams(t){return await fetch(t).then((t=>t.json().then((t=>{const n={first:t.results[0].name.first,last:t.results[0].name.last,src:t.results[0].picture.thumbnail};this.users.push(n),this.users.length>this.maxUsers&&this.users.pop(),localStorage.setItem("users",JSON.stringify(this.users))})))),this.users}formatDate(){let t=(new Date).getDate(),n=(new Date).getMonth()+1,e=(new Date).getHours(),s=(new Date).getMinutes();return n=n<10?"0"+n:n,t=t<10?"0"+t:t,e=e<10?"0"+e:e,s=s<10?"0"+s:s,`${t}.${n} ${e}:${s}`}render(){this.rating=new t({main:this}),this.user=new n({main:this}),this.archive=new s({rating:this.rating,main:this}),this.answer=new r({rating:this.rating,main:this}),this.utils=new o({main:this}),this.favorites=new i({main:this})}renderInput(){this.input=new a({main:this})}setNextUser(){this.user.setUser(),this.users.forEach(((t,n)=>{null!=t&&this.user.setUserName(n)}))}setNextComments(){this.comments.forEach(((t,n)=>{null!=t&&this.archive.setNextUser(n)}))}getCommentsInFavorites(){this.onComments=document.querySelectorAll(".comments-header__item-text"),this.onComments[2].addEventListener("click",(t=>{if(t.currentTarget.classList.toggle("comments-header__item-text--active"),t.currentTarget.classList.contains("comments-header__item-text--active")){this.commentsArchiveIsFavorite=document.querySelectorAll(".comments__archive");for(let t of this.commentsArchiveIsFavorite)"false"===t.getAttribute("isFavorite")&&(t.style.display="none");this.commentsAmswerIsFavorite=document.querySelectorAll(".comments__answer");for(let t of this.commentsAmswerIsFavorite)"false"===t.getAttribute("isFavorite")&&(t.style.display="none")}else{this.commentsArchiveIsFavorite=document.querySelectorAll(".comments__archive");for(let t of this.commentsArchiveIsFavorite)t.style.display="grid";this.commentsAmswerIsFavorite=document.querySelectorAll(".comments__answer");for(let t of this.commentsAmswerIsFavorite)t.style.display="grid"}}))}async start(){await this.setUserParams(this.API),this.render(),this.setNextUser(),this.renderInput(),this.setNextComments(),this.answer.commentAnswer(),this.answer.setNextAnswers(),this.utils.increaseCommentCount(),this.favorites.addToFavoritesArchives(),this.favorites.addToFavoritesAnswers(),this.getCommentsInFavorites(),this.rating.commentsRatingArchive(),this.rating.commentsRatingAnswer(),this.utils.sortCommentsByDate(),this.utils.sortCommentsByNumserOfRating(),this.input.onFocusTextarea(),this.utils.sortCommentsByRelevance(),this.utils.dropdownMenu(),this.utils.sortCommentsByNumberOfResponses()}}).start()})()})();